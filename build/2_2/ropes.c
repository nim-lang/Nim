/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

#include <pthread.h>
typedef struct TY51008 TY51008;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10602 TY10602;
typedef struct TY10990 TY10990;
typedef struct TY10618 TY10618;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY10988 TY10988;
typedef struct TY51010 TY51010;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY51008 {
  TNimObject Sup;
TY51008* Left;
TY51008* Right;
NI Length;
NimStringDesc* Data;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY10988 Stat;
};
typedef TY51008* TY51451[1];
typedef NI TY49040[256];
typedef NI TY8614[8];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY51010 {
  TGenericSeq Sup;
  TY51008* data[SEQ_DECL_SIZE];
};
N_NIMCALL(NI, Ropelen_51055)(TY51008* A_51057);
N_NIMCALL(TY51008*, Newrope_51105)(NimStringDesc* Data_51107);
N_NIMCALL(void*, newObj)(TNimType* Typ_12307, NI Size_12308);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11818, void* Src_11819);
static N_INLINE(TY10602*, Usrtocell_11036)(void* Usr_11038);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_11658)(TY10602* C_11660);
N_NOINLINE(void, Addzct_11025)(TY10618* S_11028, TY10602* C_11029);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17308);
N_NIMCALL(NimStringDesc*, Getcachestats_51081)(void);
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604);
N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17392, NimStringDesc* Src_17393);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_18003);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_18060);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17287);
N_NIMCALL(TY51008*, Splay_51184)(NimStringDesc* S_51186, TY51008* Tree_51187, NI* Cmpres_51189);
N_NIMCALL(NI, Cmp_1321)(NimStringDesc* X_1323, NimStringDesc* Y_1324);
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17211, NimStringDesc* B_17212);
N_NIMCALL(TY51008*, Insertincache_51246)(NimStringDesc* S_51248, TY51008* Tree_51249);
N_NIMCALL(NIM_BOOL, Ropeinvariant_51087)(TY51008* R_51089);
N_NIMCALL(TY51008*, Torope_51046)(NimStringDesc* S_51048);
N_NIMCALL(void, internalAssert)(NCSTRING File_5054, NI Line_5055, NIM_BOOL Cond_5056);
N_NIMCALL(void, Ropeseqinsert_51324)(TY51010** Rs_51327, TY51008* R_51328, NI At_51329);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17603, NI Elemsize_17604, NI Newlen_17605);
N_NOINLINE(void, raiseIndexError)(void);
static N_INLINE(NI, subInt)(NI A_5803, NI B_5804);
N_NIMCALL(void, Recropetostr_51396)(NimStringDesc** Result_51399, NI* Resultlen_51401, TY51008* P_51402);
N_NIMCALL(void, Newrecropetostr_51432)(NimStringDesc** Result_51435, NI* Resultlen_51437, TY51008* R_51438);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12804, NI Len_12805);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17435, NI Elemsize_17436);
N_NIMCALL(NimStringDesc*, Ropetostr_51066)(TY51008* P_51068);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_1349);
N_NIMCALL(TY51008*, Con_51015)(TY51008* A_51017, TY51008* B_51018);
N_NIMCALL(TY51008*, Con_51019)(TY51008* A_51021, NimStringDesc* B_51022);
N_NIMCALL(TY51008*, Con_51023)(NimStringDesc* A_51025, TY51008* B_51026);
N_NIMCALL(TY51008*, Con_51027)(TY51008** A_51030, NI A_51030Len0);
N_NIMCALL(TY51008*, Torope_51052)(NI64 I_51054);
N_NIMCALL(NimStringDesc*, nimInt64ToStr)(NI64 X_18067);
N_NIMCALL(TY51008*, Toropef_51049)(NF64 R_51051);
N_NIMCALL(void, App_51031)(TY51008** A_51034, TY51008* B_51035);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11826, void* Src_11827);
N_NIMCALL(void, App_51036)(TY51008** A_51039, NimStringDesc* B_51040);
N_NIMCALL(void, Prepend_51041)(TY51008** A_51044, TY51008* B_51045);
N_NIMCALL(void, Writeroperec_51655)(FILE** F_51658, TY51008* C_51659);
N_NIMCALL(void, Write_3658)(FILE* F_3660, NimStringDesc* S_3661);
N_NIMCALL(void, Newwriteroperec_51671)(FILE** F_51674, TY51008* C_51675);
N_NIMCALL(void, Writerope_51058)(TY51008* Head_51060, NimStringDesc* Filename_51061);
N_NIMCALL(NIM_BOOL, Open_3617)(FILE** F_3620, NimStringDesc* Filename_3621, NU8 Mode_3622, NI Bufsize_3623);
N_NIMCALL(void, Rawmessage_46553)(NU8 Msg_46555, NimStringDesc* Arg_46556);
N_NIMCALL(TY51008*, Ropef_51069)(NimStringDesc* Frmt_51071, TY51008** Args_51073, NI Args_51073Len0);
N_NIMCALL(NI, mulInt)(NI A_6603, NI B_6604);
N_NIMCALL(void, Internalerror_46571)(NimStringDesc* Errmsg_46573);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17409, NIM_CHAR C_17410);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1752, NI First_1753, NI Last_1754);
N_NIMCALL(void, Appf_51074)(TY51008** C_51077, NimStringDesc* Frmt_51078, TY51008** Args_51080, NI Args_51080Len0);
N_NIMCALL(NIM_BOOL, Auxropeequalsfile_51930)(TY51008* R_51932, FILE** Bin_51934, void* Buf_51935);
N_NIMCALL(NI, Readbuffer_3714)(FILE* F_3716, void* Buffer_3717, NI Len_3718);
N_NIMCALL(NIM_BOOL, Ropeequalsfile_51083)(TY51008* R_51085, NimStringDesc* F_51086);
N_NOCONV(void*, Alloc_1774)(NI Size_1776);
N_NOCONV(void, Dealloc_1784)(void* P_1786);
N_NIMCALL(int, Crcfromropeaux_51955)(TY51008* R_51957, int Startval_51958);
static N_INLINE(int, Updatecrc32_49018)(NIM_CHAR Val_49020, int Crc_49021);
static N_INLINE(int, Updatecrc32_49014)(NI8 Val_49016, int Crc_49017);
static N_INLINE(NI, chckRange)(NI I_4610, NI A_4611, NI B_4612);
N_NOINLINE(void, raiseRangeError)(NI64 Val_5218);
N_NIMCALL(int, Newcrcfromropeaux_51976)(TY51008* R_51978, int Startval_51979);
N_NIMCALL(int, Crcfromrope_52060)(TY51008* R_52062);
N_NIMCALL(NIM_BOOL, Writeropeifnotequal_51062)(TY51008* R_51064, NimStringDesc* Filename_51065);
N_NIMCALL(int, Crcfromfile_49029)(NimStringDesc* Filename_49031);
N_NIMCALL(TY51008*, Pop_51471)(TY51010** S_51476);
STRING_LITERAL(TMP51180, "Misses: ", 8);
STRING_LITERAL(TMP51181, " total: ", 8);
STRING_LITERAL(TMP51182, " quot: ", 7);
STRING_LITERAL(TMP51183, "", 0);
STRING_LITERAL(TMP51920, "$", 1);
STRING_LITERAL(TMP51921, "ropes: invalid format string $", 30);
STRING_LITERAL(TMP51943, "ropes: token too long", 21);
extern NIM_CONST TY49040 Crc32table_49039;
extern TNimType* NTI51006; /* PRope */
extern TNimType* NTI51008; /* TRope */
extern TY10990 Gch_11010;
TY51008* Cache_51127;
NI Misses_51128;
NI Hits_51129;
TY51008* N_51130;
extern TNimType* NTI51010; /* TRopeSeq */
extern NimStringDesc* Tnl_50573;
N_NIMCALL(NI, Ropelen_51055)(TY51008* A_51057) {
NI Result_51093;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropeLen";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51093 = 0;
F.line = 106;F.filename = "ropes.nim";
if (!(A_51057 == NIM_NIL)) goto LA2;
F.line = 106;F.filename = "ropes.nim";
Result_51093 = 0;
goto LA1;
LA2: ;
F.line = 107;F.filename = "ropes.nim";
Result_51093 = (*A_51057).Length;
LA1: ;
framePtr = framePtr->prev;
return Result_51093;
}
static N_INLINE(TY10602*, Usrtocell_11036)(void* Usr_11038) {
TY10602* Result_11039;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "usrToCell";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_11039 = 0;
F.line = 100;F.filename = "gc.nim";
Result_11039 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11038))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
framePtr = framePtr->prev;
return Result_11039;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7208;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicInc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7208 = 0;
F.line = 29;F.filename = "systhread.nim";
Result_7208 = __sync_add_and_fetch(Memloc_3004, X_3005);
framePtr = framePtr->prev;
return Result_7208;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7406;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicDec";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7406 = 0;
F.line = 37;F.filename = "systhread.nim";
Result_7406 = __sync_sub_and_fetch(Memloc_3009, X_3010);
framePtr = framePtr->prev;
return Result_7406;
}
static N_INLINE(void, Rtladdzct_11658)(TY10602* C_11660) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rtlAddZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 211;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 211;F.filename = "gc.nim";
pthread_mutex_lock(&Gch_11010.Zctlock);
LA2: ;
F.line = 212;F.filename = "gc.nim";
Addzct_11025(&Gch_11010.Zct, C_11660);
F.line = 213;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA5;
F.line = 213;F.filename = "gc.nim";
pthread_mutex_unlock(&Gch_11010.Zctlock);
LA5: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11818, void* Src_11819) {
TY10602* C_11820;
NI LOC4;
TY10602* C_11822;
NI LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "asgnRefNoCycle";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 244;F.filename = "gc.nim";
if (!!((Src_11819 == NIM_NIL))) goto LA2;
C_11820 = 0;
F.line = 245;F.filename = "gc.nim";
C_11820 = Usrtocell_11036(Src_11819);
F.line = 246;F.filename = "gc.nim";
LOC4 = Atomicinc_3001(&(*C_11820).Refcount, 8);
LA2: ;
F.line = 247;F.filename = "gc.nim";
if (!!(((*Dest_11818) == NIM_NIL))) goto LA6;
C_11822 = 0;
F.line = 248;F.filename = "gc.nim";
C_11822 = Usrtocell_11036((*Dest_11818));
F.line = 249;F.filename = "gc.nim";
LOC9 = Atomicdec_3006(&(*C_11822).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
F.line = 250;F.filename = "gc.nim";
Rtladdzct_11658(C_11822);
LA10: ;
LA6: ;
F.line = 251;F.filename = "gc.nim";
(*Dest_11818) = Src_11819;
framePtr = framePtr->prev;
}
N_NIMCALL(TY51008*, Newrope_51105)(NimStringDesc* Data_51107) {
TY51008* Result_51108;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51108 = 0;
F.line = 110;F.filename = "ropes.nim";
Result_51108 = (TY51008*) newObj(NTI51006, sizeof(TY51008));
(*Result_51108).Sup.m_type = NTI51008;
F.line = 111;F.filename = "ropes.nim";
if (!!((Data_51107 == NIM_NIL))) goto LA2;
F.line = 112;F.filename = "ropes.nim";
(*Result_51108).Length = Data_51107->Sup.len;
F.line = 113;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_51108).Data, copyString(Data_51107));
LA2: ;
framePtr = framePtr->prev;
return Result_51108;
}
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604) {
NI Result_5605;
NIM_BOOL LOC2;
Result_5605 = 0;
Result_5605 = (NI64)((NU64)(A_5603) + (NU64)(B_5604));
LOC2 = (0 <= (NI64)(Result_5605 ^ A_5603));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_5605 ^ B_5604));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5605;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17392, NimStringDesc* Src_17393) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 150;F.filename = "sysstr.nim";
memcpy(((NCSTRING) (&(*Dest_17392).data[((*Dest_17392).Sup.len)-0])), ((NCSTRING) ((*Src_17393).data)), ((int) ((NI64)((NI64)((*Src_17393).Sup.len + 1) * 1))));
F.line = 151;F.filename = "sysstr.nim";
(*Dest_17392).Sup.len += (*Src_17393).Sup.len;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Getcachestats_51081)(void) {
NimStringDesc* Result_51133;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getCacheStats";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51133 = 0;
F.line = 121;F.filename = "ropes.nim";
if (!!((addInt(Hits_51129, Misses_51128) == 0))) goto LA2;
F.line = 122;F.filename = "ropes.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = nimIntToStr(Misses_51128);
LOC6 = 0;
LOC6 = nimIntToStr(addInt(Hits_51129, Misses_51128));
LOC7 = 0;
LOC7 = nimFloatToStr((((double) (Misses_51128)) / ((double) (addInt(Hits_51129, Misses_51128)))));
LOC4 = rawNewString(LOC5->Sup.len + LOC6->Sup.len + LOC7->Sup.len + 23);
appendString(LOC4, ((NimStringDesc*) &TMP51180));
appendString(LOC4, LOC5);
appendString(LOC4, ((NimStringDesc*) &TMP51181));
appendString(LOC4, LOC6);
appendString(LOC4, ((NimStringDesc*) &TMP51182));
appendString(LOC4, LOC7);
Result_51133 = LOC4;
goto LA1;
LA2: ;
F.line = 125;F.filename = "ropes.nim";
Result_51133 = copyString(((NimStringDesc*) &TMP51183));
LA1: ;
framePtr = framePtr->prev;
return Result_51133;
}
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17211, NimStringDesc* B_17212) {
NI Result_17213;
int LOC10;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cmpStrings";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17213 = 0;
F.line = 26;F.filename = "sysstr.nim";
if (!(A_17211 == B_17212)) goto LA2;
F.line = 26;F.filename = "sysstr.nim";
F.line = 26;F.filename = "sysstr.nim";
Result_17213 = 0;
goto BeforeRet;
LA2: ;
F.line = 27;F.filename = "sysstr.nim";
if (!(A_17211 == NIM_NIL)) goto LA5;
F.line = 27;F.filename = "sysstr.nim";
F.line = 27;F.filename = "sysstr.nim";
Result_17213 = -1;
goto BeforeRet;
LA5: ;
F.line = 28;F.filename = "sysstr.nim";
if (!(B_17212 == NIM_NIL)) goto LA8;
F.line = 28;F.filename = "sysstr.nim";
F.line = 28;F.filename = "sysstr.nim";
Result_17213 = 1;
goto BeforeRet;
LA8: ;
F.line = 29;F.filename = "sysstr.nim";
F.line = 29;F.filename = "sysstr.nim";
LOC10 = strcmp(((NCSTRING) ((*A_17211).data)), ((NCSTRING) ((*B_17212).data)));
Result_17213 = ((NI) (LOC10));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17213;
}
N_NIMCALL(TY51008*, Splay_51184)(NimStringDesc* S_51186, TY51008* Tree_51187, NI* Cmpres_51189) {
TY51008* Result_51190;
NI C_51191;
TY51008* T_51192;
TY51008* Le_51193;
TY51008* R_51194;
NIM_BOOL LOC6;
TY51008* Y_51208;
NIM_BOOL LOC16;
TY51008* Y_51233;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "splay";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51190 = 0;
C_51191 = 0;
T_51192 = 0;
F.line = 129;F.filename = "ropes.nim";
T_51192 = Tree_51187;
F.line = 130;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*N_51130).Left, NIM_NIL);
F.line = 131;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*N_51130).Right, NIM_NIL);
Le_51193 = 0;
F.line = 132;F.filename = "ropes.nim";
Le_51193 = N_51130;
R_51194 = 0;
F.line = 133;F.filename = "ropes.nim";
R_51194 = N_51130;
F.line = 134;F.filename = "ropes.nim";
while (1) {
F.line = 135;F.filename = "ropes.nim";
C_51191 = Cmp_1321(S_51186, (*T_51192).Data);
F.line = 136;F.filename = "ropes.nim";
if (!(C_51191 < 0)) goto LA3;
F.line = 137;F.filename = "ropes.nim";
LOC6 = !(((*T_51192).Left == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = (cmpStrings(S_51186, (*(*T_51192).Left).Data) < 0);
LA7: ;
if (!LOC6) goto LA8;
Y_51208 = 0;
F.line = 138;F.filename = "ropes.nim";
Y_51208 = (*T_51192).Left;
F.line = 139;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_51192).Left, (*Y_51208).Right);
F.line = 140;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Y_51208).Right, T_51192);
F.line = 141;F.filename = "ropes.nim";
T_51192 = Y_51208;
LA8: ;
F.line = 142;F.filename = "ropes.nim";
if (!((*T_51192).Left == NIM_NIL)) goto LA11;
F.line = 142;F.filename = "ropes.nim";
goto LA1;
LA11: ;
F.line = 143;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*R_51194).Left, T_51192);
F.line = 144;F.filename = "ropes.nim";
R_51194 = T_51192;
F.line = 145;F.filename = "ropes.nim";
T_51192 = (*T_51192).Left;
goto LA2;
LA3: ;
if (!(0 < C_51191)) goto LA13;
F.line = 147;F.filename = "ropes.nim";
LOC16 = !(((*T_51192).Right == NIM_NIL));
if (!(LOC16)) goto LA17;
LOC16 = (cmpStrings((*(*T_51192).Right).Data, S_51186) < 0);
LA17: ;
if (!LOC16) goto LA18;
Y_51233 = 0;
F.line = 148;F.filename = "ropes.nim";
Y_51233 = (*T_51192).Right;
F.line = 149;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_51192).Right, (*Y_51233).Left);
F.line = 150;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Y_51233).Left, T_51192);
F.line = 151;F.filename = "ropes.nim";
T_51192 = Y_51233;
LA18: ;
F.line = 152;F.filename = "ropes.nim";
if (!((*T_51192).Right == NIM_NIL)) goto LA21;
F.line = 152;F.filename = "ropes.nim";
goto LA1;
LA21: ;
F.line = 153;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Le_51193).Right, T_51192);
F.line = 154;F.filename = "ropes.nim";
Le_51193 = T_51192;
F.line = 155;F.filename = "ropes.nim";
T_51192 = (*T_51192).Right;
goto LA2;
LA13: ;
F.line = 157;F.filename = "ropes.nim";
goto LA1;
LA2: ;
} LA1: ;
F.line = 158;F.filename = "ropes.nim";
(*Cmpres_51189) = C_51191;
F.line = 159;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Le_51193).Right, (*T_51192).Left);
F.line = 160;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*R_51194).Left, (*T_51192).Right);
F.line = 161;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_51192).Left, (*N_51130).Right);
F.line = 162;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_51192).Right, (*N_51130).Left);
F.line = 163;F.filename = "ropes.nim";
Result_51190 = T_51192;
framePtr = framePtr->prev;
return Result_51190;
}
N_NIMCALL(TY51008*, Insertincache_51246)(NimStringDesc* S_51248, TY51008* Tree_51249) {
TY51008* Result_51250;
TY51008* T_51251;
NI Cmp_51275;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "insertInCache";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51250 = 0;
T_51251 = 0;
F.line = 168;F.filename = "ropes.nim";
T_51251 = Tree_51249;
F.line = 169;F.filename = "ropes.nim";
if (!(T_51251 == NIM_NIL)) goto LA2;
F.line = 170;F.filename = "ropes.nim";
Result_51250 = Newrope_51105(S_51248);
F.line = 171;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA5;
F.line = 171;F.filename = "ropes.nim";
Misses_51128 = addInt(Misses_51128, 1);
LA5: ;
F.line = 172;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
Cmp_51275 = 0;
F.line = 174;F.filename = "ropes.nim";
T_51251 = Splay_51184(S_51248, T_51251, &Cmp_51275);
F.line = 175;F.filename = "ropes.nim";
if (!(Cmp_51275 == 0)) goto LA8;
F.line = 178;F.filename = "ropes.nim";
Result_51250 = T_51251;
F.line = 179;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA11;
F.line = 179;F.filename = "ropes.nim";
Hits_51129 = addInt(Hits_51129, 1);
LA11: ;
goto LA7;
LA8: ;
F.line = 181;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA14;
F.line = 181;F.filename = "ropes.nim";
Misses_51128 = addInt(Misses_51128, 1);
LA14: ;
F.line = 182;F.filename = "ropes.nim";
Result_51250 = Newrope_51105(S_51248);
F.line = 183;F.filename = "ropes.nim";
if (!(Cmp_51275 < 0)) goto LA17;
F.line = 184;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_51250).Left, (*T_51251).Left);
F.line = 185;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_51250).Right, T_51251);
F.line = 186;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_51251).Left, NIM_NIL);
goto LA16;
LA17: ;
F.line = 189;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_51250).Right, (*T_51251).Right);
F.line = 190;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_51250).Left, T_51251);
F.line = 191;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_51251).Right, NIM_NIL);
LA16: ;
LA7: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_51250;
}
N_NIMCALL(NIM_BOOL, Ropeinvariant_51087)(TY51008* R_51089) {
NIM_BOOL Result_51308;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeInvariant";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51308 = 0;
F.line = 194;F.filename = "ropes.nim";
if (!(R_51089 == NIM_NIL)) goto LA2;
F.line = 195;F.filename = "ropes.nim";
Result_51308 = NIM_TRUE;
goto LA1;
LA2: ;
F.line = 197;F.filename = "ropes.nim";
Result_51308 = NIM_TRUE;
LA1: ;
framePtr = framePtr->prev;
return Result_51308;
}
N_NIMCALL(TY51008*, Torope_51046)(NimStringDesc* S_51048) {
TY51008* Result_51323;
NIM_BOOL LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51323 = 0;
F.line = 207;F.filename = "ropes.nim";
if (!((S_51048) && (S_51048)->Sup.len == 0)) goto LA2;
F.line = 208;F.filename = "ropes.nim";
Result_51323 = NIM_NIL;
goto LA1;
LA2: ;
if (!NIM_TRUE) goto LA4;
F.line = 210;F.filename = "ropes.nim";
Result_51323 = Insertincache_51246(S_51048, Cache_51127);
F.line = 211;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &Cache_51127, Result_51323);
goto LA1;
LA4: ;
F.line = 213;F.filename = "ropes.nim";
Result_51323 = Newrope_51105(S_51048);
LA1: ;
F.line = 214;F.filename = "ropes.nim";
LOC6 = Ropeinvariant_51087(Result_51323);
internalAssert("rod/ropes.nim", 214, LOC6);
framePtr = framePtr->prev;
return Result_51323;
}
static N_INLINE(NI, subInt)(NI A_5803, NI B_5804) {
NI Result_5805;
NIM_BOOL LOC2;
Result_5805 = 0;
Result_5805 = (NI64)((NU64)(A_5803) - (NU64)(B_5804));
LOC2 = (0 <= (NI64)(Result_5805 ^ A_5803));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_5805 ^ (NI64)((NU64) ~(B_5804))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5805;
}
N_NIMCALL(void, Ropeseqinsert_51324)(TY51010** Rs_51327, TY51008* R_51328, NI At_51329) {
NI Length_51340;
NI I_51389;
NI HEX3Atmp_51391;
NI Res_51393;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeSeqInsert";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Length_51340 = 0;
F.line = 217;F.filename = "ropes.nim";
Length_51340 = (*Rs_51327)->Sup.len;
F.line = 218;F.filename = "ropes.nim";
if (!(Length_51340 < ((NI) (At_51329)))) goto LA2;
F.line = 219;F.filename = "ropes.nim";
(*Rs_51327) = (TY51010*) setLengthSeq(&((*Rs_51327))->Sup, sizeof(TY51008*), addInt(((NI) (At_51329)), 1));
goto LA1;
LA2: ;
F.line = 221;F.filename = "ropes.nim";
(*Rs_51327) = (TY51010*) setLengthSeq(&((*Rs_51327))->Sup, sizeof(TY51008*), addInt(Length_51340, 1));
LA1: ;
I_51389 = 0;
HEX3Atmp_51391 = 0;
F.line = 222;F.filename = "ropes.nim";
HEX3Atmp_51391 = addInt(((NI) (At_51329)), 1);
Res_51393 = 0;
F.line = 1002;F.filename = "system.nim";
Res_51393 = Length_51340;
F.line = 1003;F.filename = "system.nim";
while (1) {
if (!(HEX3Atmp_51391 <= Res_51393)) goto LA4;
F.line = 1002;F.filename = "system.nim";
I_51389 = Res_51393;
F.line = 223;F.filename = "ropes.nim";
if ((NU)(I_51389) >= (NU)((*Rs_51327)->Sup.len)) raiseIndexError();
if ((NU)(subInt(I_51389, 1)) >= (NU)((*Rs_51327)->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*Rs_51327)->data[I_51389], (*Rs_51327)->data[subInt(I_51389, 1)]);
F.line = 1005;F.filename = "system.nim";
Res_51393 = subInt(Res_51393, 1);
} LA4: ;
F.line = 224;F.filename = "ropes.nim";
if ((NU)(At_51329) >= (NU)((*Rs_51327)->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*Rs_51327)->data[At_51329], R_51328);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Recropetostr_51396)(NimStringDesc** Result_51399, NI* Resultlen_51401, TY51008* P_51402) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "recRopeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 227;F.filename = "ropes.nim";
if (!(P_51402 == NIM_NIL)) goto LA2;
F.line = 228;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
F.line = 229;F.filename = "ropes.nim";
if (!((*P_51402).Data == NIM_NIL)) goto LA5;
F.line = 230;F.filename = "ropes.nim";
Recropetostr_51396(Result_51399, Resultlen_51401, (*P_51402).Left);
F.line = 231;F.filename = "ropes.nim";
Recropetostr_51396(Result_51399, Resultlen_51401, (*P_51402).Right);
goto LA4;
LA5: ;
F.line = 233;F.filename = "ropes.nim";
if ((NU)(addInt((*Resultlen_51401), 0)) > (NU)((*Result_51399)->Sup.len)) raiseIndexError();
if ((NU)(0) > (NU)((*P_51402).Data->Sup.len)) raiseIndexError();
memcpy(((void*) (&(*Result_51399)->data[addInt((*Resultlen_51401), 0)])), ((void*) (&(*P_51402).Data->data[0])), (*P_51402).Length);
F.line = 234;F.filename = "ropes.nim";
(*Resultlen_51401) = addInt((*Resultlen_51401), (*P_51402).Length);
F.line = 235;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 235, ((*Resultlen_51401) <= (*Result_51399)->Sup.len));
LA4: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Newrecropetostr_51432)(NimStringDesc** Result_51435, NI* Resultlen_51437, TY51008* R_51438) {
TY51010* Stack_51453;
TY51451 LOC1;
TY51008* It_51502;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newRecRopeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Stack_51453 = 0;
F.line = 238;F.filename = "ropes.nim";
Stack_51453 = (TY51010*) newSeq(NTI51010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = R_51438;
asgnRefNoCycle((void**) &Stack_51453->data[0], LOC1[0]);
F.line = 239;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_51453->Sup.len)) goto LA2;
It_51502 = 0;
F.line = 240;F.filename = "ropes.nim";
It_51502 = Pop_51471(&Stack_51453);
F.line = 241;F.filename = "ropes.nim";
while (1) {
if (!((*It_51502).Data == NIM_NIL)) goto LA3;
F.line = 242;F.filename = "ropes.nim";
Stack_51453 = (TY51010*) incrSeq(&(Stack_51453)->Sup, sizeof(TY51008*));
asgnRefNoCycle((void**) &Stack_51453->data[Stack_51453->Sup.len-1], (*It_51502).Right);
F.line = 243;F.filename = "ropes.nim";
It_51502 = (*It_51502).Left;
} LA3: ;
F.line = 244;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 244, !(((*It_51502).Data == NIM_NIL)));
F.line = 245;F.filename = "ropes.nim";
if ((NU)((*Resultlen_51437)) > (NU)((*Result_51435)->Sup.len)) raiseIndexError();
if ((NU)(0) > (NU)((*It_51502).Data->Sup.len)) raiseIndexError();
memcpy(((void*) (&(*Result_51435)->data[(*Resultlen_51437)])), ((void*) (&(*It_51502).Data->data[0])), (*It_51502).Length);
F.line = 246;F.filename = "ropes.nim";
(*Resultlen_51437) = addInt((*Resultlen_51437), (*It_51502).Length);
F.line = 247;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 247, ((*Resultlen_51437) <= (*Result_51435)->Sup.len));
} LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Ropetostr_51066)(TY51008* P_51068) {
NimStringDesc* Result_51544;
NI Resultlen_51556;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51544 = 0;
F.line = 250;F.filename = "ropes.nim";
if (!(P_51068 == NIM_NIL)) goto LA2;
F.line = 251;F.filename = "ropes.nim";
Result_51544 = copyString(((NimStringDesc*) &TMP51183));
goto LA1;
LA2: ;
F.line = 253;F.filename = "ropes.nim";
Result_51544 = mnewString((*P_51068).Length);
Resultlen_51556 = 0;
F.line = 254;F.filename = "ropes.nim";
Resultlen_51556 = 0;
F.line = 255;F.filename = "ropes.nim";
Newrecropetostr_51432(&Result_51544, &Resultlen_51556, P_51068);
LA1: ;
framePtr = framePtr->prev;
return Result_51544;
}
N_NIMCALL(TY51008*, Con_51015)(TY51008* A_51017, TY51008* B_51018) {
TY51008* Result_51563;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51563 = 0;
F.line = 258;F.filename = "ropes.nim";
if (!(A_51017 == NIM_NIL)) goto LA2;
F.line = 258;F.filename = "ropes.nim";
Result_51563 = B_51018;
goto LA1;
LA2: ;
if (!(B_51018 == NIM_NIL)) goto LA4;
F.line = 259;F.filename = "ropes.nim";
Result_51563 = A_51017;
goto LA1;
LA4: ;
F.line = 261;F.filename = "ropes.nim";
Result_51563 = Newrope_51105(NIM_NIL);
F.line = 262;F.filename = "ropes.nim";
(*Result_51563).Length = addInt((*A_51017).Length, (*B_51018).Length);
F.line = 263;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_51563).Left, A_51017);
F.line = 264;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_51563).Right, B_51018);
LA1: ;
framePtr = framePtr->prev;
return Result_51563;
}
N_NIMCALL(TY51008*, Con_51019)(TY51008* A_51021, NimStringDesc* B_51022) {
TY51008* Result_51590;
TY51008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51590 = 0;
F.line = 266;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Torope_51046(B_51022);
Result_51590 = Con_51015(A_51021, LOC1);
framePtr = framePtr->prev;
return Result_51590;
}
N_NIMCALL(TY51008*, Con_51023)(NimStringDesc* A_51025, TY51008* B_51026) {
TY51008* Result_51595;
TY51008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51595 = 0;
F.line = 267;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Torope_51046(A_51025);
Result_51595 = Con_51015(LOC1, B_51026);
framePtr = framePtr->prev;
return Result_51595;
}
N_NIMCALL(TY51008*, Con_51027)(TY51008** A_51030, NI A_51030Len0) {
TY51008* Result_51600;
NI I_51623;
NI HEX3Atmp_51625;
NI Res_51627;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51600 = 0;
I_51623 = 0;
HEX3Atmp_51625 = 0;
F.line = 270;F.filename = "ropes.nim";
HEX3Atmp_51625 = (A_51030Len0-1);
Res_51627 = 0;
F.line = 1011;F.filename = "system.nim";
Res_51627 = 0;
F.line = 1012;F.filename = "system.nim";
while (1) {
if (!(Res_51627 <= HEX3Atmp_51625)) goto LA1;
F.line = 1011;F.filename = "system.nim";
I_51623 = Res_51627;
F.line = 270;F.filename = "ropes.nim";
if ((NU)(I_51623) >= (NU)(A_51030Len0)) raiseIndexError();
Result_51600 = Con_51015(Result_51600, A_51030[I_51623]);
F.line = 1014;F.filename = "system.nim";
Res_51627 = addInt(Res_51627, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_51600;
}
N_NIMCALL(TY51008*, Torope_51052)(NI64 I_51054) {
TY51008* Result_51633;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51633 = 0;
F.line = 272;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = nimInt64ToStr(I_51054);
Result_51633 = Torope_51046(LOC1);
framePtr = framePtr->prev;
return Result_51633;
}
N_NIMCALL(TY51008*, Toropef_51049)(NF64 R_51051) {
TY51008* Result_51639;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRopeF";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51639 = 0;
F.line = 273;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = nimFloatToStr(((NF) (R_51051)));
Result_51639 = Torope_51046(LOC1);
framePtr = framePtr->prev;
return Result_51639;
}
N_NIMCALL(void, App_51031)(TY51008** A_51034, TY51008* B_51035) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "app";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 274;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_51034), Con_51015((*A_51034), B_51035));
framePtr = framePtr->prev;
}
N_NIMCALL(void, App_51036)(TY51008** A_51039, NimStringDesc* B_51040) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "app";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 275;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_51039), Con_51019((*A_51039), B_51040));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Prepend_51041)(TY51008** A_51044, TY51008* B_51045) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "prepend";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 276;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_51044), Con_51015(B_51045, (*A_51044)));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Writeroperec_51655)(FILE** F_51658, TY51008* C_51659) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "WriteRopeRec";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 279;F.filename = "ropes.nim";
if (!(C_51659 == NIM_NIL)) goto LA2;
F.line = 279;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
F.line = 280;F.filename = "ropes.nim";
if (!!(((*C_51659).Data == NIM_NIL))) goto LA5;
F.line = 281;F.filename = "ropes.nim";
Write_3658((*F_51658), (*C_51659).Data);
goto LA4;
LA5: ;
F.line = 283;F.filename = "ropes.nim";
Writeroperec_51655(F_51658, (*C_51659).Left);
F.line = 284;F.filename = "ropes.nim";
Writeroperec_51655(F_51658, (*C_51659).Right);
LA4: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Newwriteroperec_51671)(FILE** F_51674, TY51008* C_51675) {
TY51010* Stack_51690;
TY51451 LOC1;
TY51008* It_51715;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newWriteRopeRec";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Stack_51690 = 0;
F.line = 287;F.filename = "ropes.nim";
Stack_51690 = (TY51010*) newSeq(NTI51010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = C_51675;
asgnRefNoCycle((void**) &Stack_51690->data[0], LOC1[0]);
F.line = 288;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_51690->Sup.len)) goto LA2;
It_51715 = 0;
F.line = 289;F.filename = "ropes.nim";
It_51715 = Pop_51471(&Stack_51690);
F.line = 290;F.filename = "ropes.nim";
while (1) {
if (!((*It_51715).Data == NIM_NIL)) goto LA3;
F.line = 291;F.filename = "ropes.nim";
Stack_51690 = (TY51010*) incrSeq(&(Stack_51690)->Sup, sizeof(TY51008*));
asgnRefNoCycle((void**) &Stack_51690->data[Stack_51690->Sup.len-1], (*It_51715).Right);
F.line = 292;F.filename = "ropes.nim";
It_51715 = (*It_51715).Left;
F.line = 293;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 293, !((It_51715 == NIM_NIL)));
} LA3: ;
F.line = 294;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 294, !(((*It_51715).Data == NIM_NIL)));
F.line = 295;F.filename = "ropes.nim";
Write_3658((*F_51674), (*It_51715).Data);
} LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Writerope_51058)(TY51008* Head_51060, NimStringDesc* Filename_51061) {
FILE* F_51751;
NIM_BOOL LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "WriteRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F_51751 = 0;
F.line = 299;F.filename = "ropes.nim";
LOC2 = Open_3617(&F_51751, Filename_51061, ((NU8) 1), -1);
if (!LOC2) goto LA3;
F.line = 300;F.filename = "ropes.nim";
if (!!((Head_51060 == NIM_NIL))) goto LA6;
F.line = 300;F.filename = "ropes.nim";
Newwriteroperec_51671(&F_51751, Head_51060);
LA6: ;
F.line = 301;F.filename = "ropes.nim";
fclose(F_51751);
goto LA1;
LA3: ;
F.line = 303;F.filename = "ropes.nim";
Rawmessage_46553(((NU8) 2), Filename_51061);
LA1: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17409, NIM_CHAR C_17410) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 154;F.filename = "sysstr.nim";
(*Dest_17409).data[((*Dest_17409).Sup.len)-0] = C_17410;
F.line = 155;F.filename = "sysstr.nim";
(*Dest_17409).data[((NI64)((*Dest_17409).Sup.len + 1))-0] = 0;
F.line = 156;F.filename = "sysstr.nim";
(*Dest_17409).Sup.len += 1;
framePtr = framePtr->prev;
}
N_NIMCALL(TY51008*, Ropef_51069)(NimStringDesc* Frmt_51071, TY51008** Args_51073, NI Args_51073Len0) {
TY51008* Result_51770;
NI I_51771;
NI J_51772;
NI Length_51773;
NI Start_51774;
NI Num_51775;
NIM_BOOL LOC7;
NimStringDesc* LOC14;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
NimStringDesc* LOC24;
NIM_BOOL LOC25;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropef";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51770 = 0;
I_51771 = 0;
J_51772 = 0;
Length_51773 = 0;
Start_51774 = 0;
Num_51775 = 0;
F.line = 307;F.filename = "ropes.nim";
I_51771 = 0;
F.line = 308;F.filename = "ropes.nim";
Length_51773 = Frmt_51071->Sup.len;
F.line = 309;F.filename = "ropes.nim";
Result_51770 = NIM_NIL;
F.line = 310;F.filename = "ropes.nim";
Num_51775 = 0;
F.line = 311;F.filename = "ropes.nim";
while (1) {
if (!(I_51771 <= subInt(Length_51773, 1))) goto LA1;
F.line = 312;F.filename = "ropes.nim";
if ((NU)(I_51771) > (NU)(Frmt_51071->Sup.len)) raiseIndexError();
if (!((NU8)(Frmt_51071->data[I_51771]) == (NU8)(36))) goto LA3;
F.line = 313;F.filename = "ropes.nim";
I_51771 = addInt(I_51771, 1);
F.line = 314;F.filename = "ropes.nim";
if ((NU)(I_51771) > (NU)(Frmt_51071->Sup.len)) raiseIndexError();
switch (((NU8)(Frmt_51071->data[I_51771]))) {
case 36:
F.line = 316;F.filename = "ropes.nim";
App_51036(&Result_51770, ((NimStringDesc*) &TMP51920));
F.line = 317;F.filename = "ropes.nim";
I_51771 = addInt(I_51771, 1);
break;
case 35:
F.line = 319;F.filename = "ropes.nim";
I_51771 = addInt(I_51771, 1);
F.line = 320;F.filename = "ropes.nim";
if ((NU)(Num_51775) >= (NU)(Args_51073Len0)) raiseIndexError();
App_51031(&Result_51770, Args_51073[Num_51775]);
F.line = 321;F.filename = "ropes.nim";
Num_51775 = addInt(Num_51775, 1);
break;
case 48 ... 57:
F.line = 323;F.filename = "ropes.nim";
J_51772 = 0;
F.line = 324;F.filename = "ropes.nim";
while (1) {
F.line = 325;F.filename = "ropes.nim";
if ((NU)(I_51771) > (NU)(Frmt_51071->Sup.len)) raiseIndexError();
J_51772 = subInt(addInt(mulInt(J_51772, 10), ((NU8)(Frmt_51071->data[I_51771]))), 48);
F.line = 326;F.filename = "ropes.nim";
I_51771 = addInt(I_51771, 1);
F.line = 327;F.filename = "ropes.nim";
LOC7 = (subInt(addInt(Length_51773, 0), 1) < I_51771);
if (LOC7) goto LA8;
if ((NU)(I_51771) > (NU)(Frmt_51071->Sup.len)) raiseIndexError();
LOC7 = !((((NU8)(Frmt_51071->data[I_51771])) >= ((NU8)(48)) && ((NU8)(Frmt_51071->data[I_51771])) <= ((NU8)(57))));
LA8: ;
if (!LOC7) goto LA9;
F.line = 327;F.filename = "ropes.nim";
goto LA5;
LA9: ;
} LA5: ;
F.line = 328;F.filename = "ropes.nim";
Num_51775 = J_51772;
F.line = 329;F.filename = "ropes.nim";
if (!(addInt((Args_51073Len0-1), 1) < J_51772)) goto LA12;
F.line = 330;F.filename = "ropes.nim";
LOC14 = 0;
LOC15 = 0;
LOC15 = nimIntToStr(J_51772);
LOC14 = rawNewString(LOC15->Sup.len + 30);
appendString(LOC14, ((NimStringDesc*) &TMP51921));
appendString(LOC14, LOC15);
Internalerror_46571(LOC14);
LA12: ;
F.line = 331;F.filename = "ropes.nim";
if ((NU)(subInt(J_51772, 1)) >= (NU)(Args_51073Len0)) raiseIndexError();
App_51031(&Result_51770, Args_51073[subInt(J_51772, 1)]);
break;
case 78:
case 110:
F.line = 333;F.filename = "ropes.nim";
App_51036(&Result_51770, Tnl_50573);
F.line = 334;F.filename = "ropes.nim";
I_51771 = addInt(I_51771, 1);
break;
default:
F.line = 335;F.filename = "ropes.nim";
LOC16 = 0;
if ((NU)(I_51771) > (NU)(Frmt_51071->Sup.len)) raiseIndexError();
LOC16 = rawNewString(31);
appendString(LOC16, ((NimStringDesc*) &TMP51921));
appendChar(LOC16, Frmt_51071->data[I_51771]);
Internalerror_46571(LOC16);
break;
}
LA3: ;
F.line = 336;F.filename = "ropes.nim";
Start_51774 = I_51771;
F.line = 337;F.filename = "ropes.nim";
while (1) {
if (!(I_51771 <= subInt(Length_51773, 1))) goto LA17;
F.line = 338;F.filename = "ropes.nim";
if ((NU)(I_51771) > (NU)(Frmt_51071->Sup.len)) raiseIndexError();
if (!!(((NU8)(Frmt_51071->data[I_51771]) == (NU8)(36)))) goto LA19;
F.line = 338;F.filename = "ropes.nim";
I_51771 = addInt(I_51771, 1);
goto LA18;
LA19: ;
F.line = 339;F.filename = "ropes.nim";
goto LA17;
LA18: ;
} LA17: ;
F.line = 340;F.filename = "ropes.nim";
if (!(Start_51774 <= subInt(I_51771, 1))) goto LA22;
F.line = 341;F.filename = "ropes.nim";
LOC24 = 0;
LOC24 = copyStrLast(Frmt_51071, Start_51774, subInt(I_51771, 1));
App_51036(&Result_51770, LOC24);
LA22: ;
} LA1: ;
F.line = 342;F.filename = "ropes.nim";
LOC25 = Ropeinvariant_51087(Result_51770);
internalAssert("rod/ropes.nim", 342, LOC25);
framePtr = framePtr->prev;
return Result_51770;
}
N_NIMCALL(void, Appf_51074)(TY51008** C_51077, NimStringDesc* Frmt_51078, TY51008** Args_51080, NI Args_51080Len0) {
TY51008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appf";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 345;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Ropef_51069(Frmt_51078, Args_51080, Args_51080Len0);
App_51031(C_51077, LOC1);
framePtr = framePtr->prev;
}
N_NIMCALL(NIM_BOOL, Auxropeequalsfile_51930)(TY51008* R_51932, FILE** Bin_51934, void* Buf_51935) {
NIM_BOOL Result_51936;
NI Readbytes_51939;
NIM_BOOL LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "auxRopeEqualsFile";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51936 = 0;
F.line = 351;F.filename = "ropes.nim";
if (!!(((*R_51932).Data == NIM_NIL))) goto LA2;
F.line = 352;F.filename = "ropes.nim";
if (!(1024 < (*R_51932).Length)) goto LA5;
F.line = 353;F.filename = "ropes.nim";
Internalerror_46571(((NimStringDesc*) &TMP51943));
LA5: ;
Readbytes_51939 = 0;
F.line = 354;F.filename = "ropes.nim";
Readbytes_51939 = Readbuffer_3714((*Bin_51934), Buf_51935, (*R_51932).Length);
F.line = 355;F.filename = "ropes.nim";
LOC7 = (Readbytes_51939 == (*R_51932).Length);
if (!(LOC7)) goto LA8;
if ((NU)(0) > (NU)((*R_51932).Data->Sup.len)) raiseIndexError();
LOC7 = equalMem(Buf_51935, ((void*) (&(*R_51932).Data->data[0])), (*R_51932).Length);
LA8: ;
Result_51936 = LOC7;
goto LA1;
LA2: ;
F.line = 358;F.filename = "ropes.nim";
Result_51936 = Auxropeequalsfile_51930((*R_51932).Left, Bin_51934, Buf_51935);
F.line = 359;F.filename = "ropes.nim";
if (!Result_51936) goto LA10;
F.line = 359;F.filename = "ropes.nim";
Result_51936 = Auxropeequalsfile_51930((*R_51932).Right, Bin_51934, Buf_51935);
LA10: ;
LA1: ;
framePtr = framePtr->prev;
return Result_51936;
}
N_NIMCALL(NIM_BOOL, Ropeequalsfile_51083)(TY51008* R_51085, NimStringDesc* F_51086) {
NIM_BOOL Result_51948;
FILE* Bin_51949;
void* Buf_51951;
NI LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeEqualsFile";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51948 = 0;
Bin_51949 = 0;
F.line = 363;F.filename = "ropes.nim";
Result_51948 = Open_3617(&Bin_51949, F_51086, ((NU8) 0), -1);
F.line = 364;F.filename = "ropes.nim";
if (!!(Result_51948)) goto LA2;
F.line = 365;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
Buf_51951 = 0;
F.line = 366;F.filename = "ropes.nim";
Buf_51951 = Alloc_1774(1024);
F.line = 367;F.filename = "ropes.nim";
Result_51948 = Auxropeequalsfile_51930(R_51085, &Bin_51949, Buf_51951);
F.line = 368;F.filename = "ropes.nim";
if (!Result_51948) goto LA5;
F.line = 369;F.filename = "ropes.nim";
LOC7 = Readbuffer_3714(Bin_51949, Buf_51951, 1024);
Result_51948 = (LOC7 == 0);
LA5: ;
F.line = 370;F.filename = "ropes.nim";
Dealloc_1784(Buf_51951);
F.line = 371;F.filename = "ropes.nim";
fclose(Bin_51949);
BeforeRet: ;
framePtr = framePtr->prev;
return Result_51948;
}
static N_INLINE(NI, chckRange)(NI I_4610, NI A_4611, NI B_4612) {
NI Result_5316;
NIM_BOOL LOC2;
Result_5316 = 0;
LOC2 = (A_4611 <= I_4610);
if (!(LOC2)) goto LA3;
LOC2 = (I_4610 <= B_4612);
LA3: ;
if (!LOC2) goto LA4;
Result_5316 = I_4610;
goto BeforeRet;
goto LA1;
LA4: ;
raiseRangeError(((NI64) (I_4610)));
LA1: ;
BeforeRet: ;
return Result_5316;
}
static N_INLINE(int, Updatecrc32_49014)(NI8 Val_49016, int Crc_49017) {
int Result_49048;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "updateCrc32";
F.prev = framePtr;
F.filename = "rod/crc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_49048 = 0;
F.line = 78;F.filename = "crc.nim";
if ((NU)((NI64)((NI64)(((NI) (Crc_49017)) ^ (NI64)(((NI) (Val_49016)) & 255)) & 255)) > (NU)(255)) raiseIndexError();
Result_49048 = (NI32)(((int)chckRange(Crc32table_49039[((NI64)((NI64)(((NI) (Crc_49017)) ^ (NI64)(((NI) (Val_49016)) & 255)) & 255))-0], ((NI32) (-2147483647 -1)), ((NI32) 2147483647))) ^ (NI32)((NU32)(Crc_49017) >> (NU32)(((NI32) 8))));
framePtr = framePtr->prev;
return Result_49048;
}
static N_INLINE(int, Updatecrc32_49018)(NIM_CHAR Val_49020, int Crc_49021) {
int Result_49053;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "updateCrc32";
F.prev = framePtr;
F.filename = "rod/crc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_49053 = 0;
F.line = 82;F.filename = "crc.nim";
Result_49053 = Updatecrc32_49014(((NI8)chckRange(((NU8)(Val_49020)), ((NI8) -128), ((NI8) 127))), Crc_49021);
framePtr = framePtr->prev;
return Result_49053;
}
N_NIMCALL(int, Crcfromropeaux_51955)(TY51008* R_51957, int Startval_51958) {
int Result_51959;
NI I_51969;
NI HEX3Atmp_51971;
NI Res_51973;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "crcFromRopeAux";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51959 = 0;
F.line = 374;F.filename = "ropes.nim";
if (!!(((*R_51957).Data == NIM_NIL))) goto LA2;
F.line = 375;F.filename = "ropes.nim";
Result_51959 = Startval_51958;
I_51969 = 0;
HEX3Atmp_51971 = 0;
F.line = 376;F.filename = "ropes.nim";
HEX3Atmp_51971 = subInt((*R_51957).Data->Sup.len, 1);
Res_51973 = 0;
F.line = 1011;F.filename = "system.nim";
Res_51973 = 0;
F.line = 1012;F.filename = "system.nim";
while (1) {
if (!(Res_51973 <= HEX3Atmp_51971)) goto LA4;
F.line = 1011;F.filename = "system.nim";
I_51969 = Res_51973;
F.line = 377;F.filename = "ropes.nim";
if ((NU)(I_51969) > (NU)((*R_51957).Data->Sup.len)) raiseIndexError();
Result_51959 = Updatecrc32_49018((*R_51957).Data->data[I_51969], Result_51959);
F.line = 1014;F.filename = "system.nim";
Res_51973 = addInt(Res_51973, 1);
} LA4: ;
goto LA1;
LA2: ;
F.line = 379;F.filename = "ropes.nim";
Result_51959 = Crcfromropeaux_51955((*R_51957).Left, Startval_51958);
F.line = 380;F.filename = "ropes.nim";
Result_51959 = Crcfromropeaux_51955((*R_51957).Right, Result_51959);
LA1: ;
framePtr = framePtr->prev;
return Result_51959;
}
N_NIMCALL(int, Newcrcfromropeaux_51976)(TY51008* R_51978, int Startval_51979) {
int Result_51980;
TY51010* Stack_51995;
TY51451 LOC1;
TY51008* It_52020;
NI I_52039;
NI L_52042;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newCrcFromRopeAux";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51980 = 0;
Stack_51995 = 0;
F.line = 383;F.filename = "ropes.nim";
Stack_51995 = (TY51010*) newSeq(NTI51010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = R_51978;
asgnRefNoCycle((void**) &Stack_51995->data[0], LOC1[0]);
F.line = 384;F.filename = "ropes.nim";
Result_51980 = Startval_51979;
F.line = 385;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_51995->Sup.len)) goto LA2;
It_52020 = 0;
F.line = 386;F.filename = "ropes.nim";
It_52020 = Pop_51471(&Stack_51995);
F.line = 387;F.filename = "ropes.nim";
while (1) {
if (!((*It_52020).Data == NIM_NIL)) goto LA3;
F.line = 388;F.filename = "ropes.nim";
Stack_51995 = (TY51010*) incrSeq(&(Stack_51995)->Sup, sizeof(TY51008*));
asgnRefNoCycle((void**) &Stack_51995->data[Stack_51995->Sup.len-1], (*It_52020).Right);
F.line = 389;F.filename = "ropes.nim";
It_52020 = (*It_52020).Left;
} LA3: ;
F.line = 390;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 390, !(((*It_52020).Data == NIM_NIL)));
I_52039 = 0;
F.line = 391;F.filename = "ropes.nim";
I_52039 = 0;
L_52042 = 0;
F.line = 392;F.filename = "ropes.nim";
L_52042 = (*It_52020).Data->Sup.len;
F.line = 393;F.filename = "ropes.nim";
while (1) {
if (!(I_52039 < L_52042)) goto LA4;
F.line = 394;F.filename = "ropes.nim";
if ((NU)(I_52039) > (NU)((*It_52020).Data->Sup.len)) raiseIndexError();
Result_51980 = Updatecrc32_49018((*It_52020).Data->data[I_52039], Result_51980);
F.line = 395;F.filename = "ropes.nim";
I_52039 = addInt(I_52039, 1);
} LA4: ;
} LA2: ;
framePtr = framePtr->prev;
return Result_51980;
}
N_NIMCALL(int, Crcfromrope_52060)(TY51008* R_52062) {
int Result_52063;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "crcFromRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_52063 = 0;
F.line = 398;F.filename = "ropes.nim";
Result_52063 = Newcrcfromropeaux_51976(R_52062, ((NI32) -1));
framePtr = framePtr->prev;
return Result_52063;
}
N_NIMCALL(NIM_BOOL, Writeropeifnotequal_51062)(TY51008* R_51064, NimStringDesc* Filename_51065) {
NIM_BOOL Result_52068;
int C_52069;
int LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "writeRopeIfNotEqual";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_52068 = 0;
C_52069 = 0;
F.line = 403;F.filename = "ropes.nim";
C_52069 = Crcfromfile_49029(Filename_51065);
F.line = 404;F.filename = "ropes.nim";
LOC2 = Crcfromrope_52060(R_51064);
if (!!((C_52069 == LOC2))) goto LA3;
F.line = 405;F.filename = "ropes.nim";
Writerope_51058(R_51064, Filename_51065);
F.line = 406;F.filename = "ropes.nim";
Result_52068 = NIM_TRUE;
goto LA1;
LA3: ;
F.line = 408;F.filename = "ropes.nim";
Result_52068 = NIM_FALSE;
LA1: ;
framePtr = framePtr->prev;
return Result_52068;
}
N_NIMCALL(TY51008*, Pop_51471)(TY51010** S_51476) {
TY51008* Result_51477;
NI L_51488;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "pop";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_51477 = 0;
L_51488 = 0;
F.line = 1156;F.filename = "system.nim";
L_51488 = subInt((*S_51476)->Sup.len, 1);
F.line = 1157;F.filename = "system.nim";
if ((NU)(L_51488) >= (NU)((*S_51476)->Sup.len)) raiseIndexError();
Result_51477 = (*S_51476)->data[L_51488];
F.line = 1158;F.filename = "system.nim";
(*S_51476) = (TY51010*) setLengthSeq(&((*S_51476))->Sup, sizeof(TY51008*), L_51488);
framePtr = framePtr->prev;
return Result_51477;
}
N_NOINLINE(void, ropesInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropes";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 410;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &N_51130, (TY51008*) newObj(NTI51006, sizeof(TY51008)));
(*N_51130).Sup.m_type = NTI51008;
framePtr = framePtr->prev;
}

