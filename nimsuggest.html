<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nim IDE Integration Guide</title>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="nimdoc.out.css?v=2.2.1">

<!-- JS -->
<script type="text/javascript" src="dochack.js?v=2.2.1"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">Nim IDE Integration Guide</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple-boot">
        <li><a href="manual.html">Manual</a></li>
        <li><a href="lib.html">Standard library</a></li>
        <li> <a id="indexLink" href="theindex.html">Index</a></li>
        <li><a href="compiler/theindex.html">Compiler docs</a></li>
        <li><a href="https://nim-lang.github.io/fusion/theindex.html">Fusion docs</a></li>
        <li><a href="https://nim-lang.github.io/Nim/">devel</a>, <a href="https://nim-lang.org/documentation.html">stable</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput"
        oninput="search()" />
    </div>
    <div class="search-groupby">
  Group by:
  <select onchange="groupBy(this.value)">
    <option value="section">Section</option>
    <option value="type">Type</option>
  </select>
</div>

    <ul class="simple simple-toc" id="toc-list">
  <li><a class="reference" id="installation_toc" href="#installation">Installation</a></li>
<li><a class="reference" id="nimsuggest-invocation_toc" href="#nimsuggest-invocation">Nimsuggest invocation</a></li>
<ul class="simple"><li><a class="reference" id="nimsuggest-invocation-specifying-the-location-of-the-query_toc" href="#nimsuggest-invocation-specifying-the-location-of-the-query">Specifying the location of the query</a></li>
<li><a class="reference" id="nimsuggest-invocation-definitions_toc" href="#nimsuggest-invocation-definitions">Definitions</a></li>
<li><a class="reference" id="nimsuggest-invocation-suggestions_toc" href="#nimsuggest-invocation-suggestions">Suggestions</a></li>
<li><a class="reference" id="nimsuggest-invocation-invocation-context_toc" href="#nimsuggest-invocation-invocation-context">Invocation context</a></li>
<li><a class="reference" id="nimsuggest-invocation-symbol-usages_toc" href="#nimsuggest-invocation-symbol-usages">Symbol usages</a></li>
</ul><li><a class="reference" id="parsing-nimsuggest-output_toc" href="#parsing-nimsuggest-output">Parsing nimsuggest output</a></li>

</ul>

  </div>
  <div class="nine columns" id="content">
    <a href="https://github.com/nim-lang/Nim/tree/devel/doc/nimsuggest.md#L1" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-lang/Nim/edit/devel/doc/nimsuggest.md#L1" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

    <div id="tocRoot"></div>
    
    <p class="module-desc"><table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">Author:</th><td>Unknown</td></tr>
<tr><th class="docinfo-name">Version:</th><td>2.2.1</td></tr>
</tbody></table><p>Nim differs from many other compilers in that it is really fast, and being so fast makes it suited to provide external queries for text editors about the source code being written. Through the <tt class="docutils literal"><span class="pre"><span class="program">nimsuggest</span></span></tt> tool, any IDE can query a <tt class="docutils literal"><span class="pre">.nim</span></tt> source file and obtain useful information like definition of symbols or suggestions for completion.</p>
<p>This document will guide you through the available options. If you want to look at practical examples of nimsuggest support you can look at the <a class="reference external" href="https://github.com/Araq/Nim/wiki/Editor-Support">various editor integrations</a> already available.</p>

<h1><a class="toc-backref" id="installation" href="#installation">Installation</a></h1><p>Nimsuggest is part of Nim's core. Build it via:</p>
<p><pre class="listing"><span class="program">koch</span> <span class="option">nimsuggest</span></pre></p>

<h1><a class="toc-backref" id="nimsuggest-invocation" href="#nimsuggest-invocation">Nimsuggest invocation</a></h1><p>Run it via <tt class="docutils literal"><span class="pre"><span class="program">nimsuggest</span> <span class="option">--stdin</span> <span class="option">--debug</span> <span class="Identifier">myproject.nim</span></span></tt>. Nimsuggest is a server that takes queries that are related to <tt class="docutils literal"><span class="pre"><span class="Identifier">myproject</span></span></tt>. There is some support so that you can throw random <tt class="docutils literal"><span class="pre">.nim</span></tt> files which are not part of <tt class="docutils literal"><span class="pre"><span class="Identifier">myproject</span></span></tt> at Nimsuggest too, but usually the query refer to modules/files that are part of <tt class="docutils literal"><span class="pre"><span class="Identifier">myproject</span></span></tt>.</p>
<p><tt class="docutils literal"><span class="pre option">--stdin</span></tt> means that Nimsuggest reads the query from <tt class="docutils literal"><span class="pre"><span class="Identifier">stdin</span></span></tt>. This is great for testing things out and playing with it but for an editor communication via sockets is more reasonable so that is the default. It listens to port 6000 by default.</p>
<p>Nimsuggest is basically a frontend for the nim compiler so <tt class="docutils literal"><span class="pre option">--path</span></tt> flags and <a class="reference external" href="nimc.html#compiler-usage-configuration-files">config files</a> can be used to specify additional dependencies like <tt class="docutils literal"><span class="pre"><span class="program">nimsuggest</span> <span class="option">--stdin</span> <span class="option">--debug</span> <span class="option">--path:</span><span class="option">&quot;dependencies&quot;</span> <span class="Identifier">myproject.nim</span></span></tt>.</p>

<h2><a class="toc-backref" id="nimsuggest-invocation-specifying-the-location-of-the-query" href="#nimsuggest-invocation-specifying-the-location-of-the-query">Specifying the location of the query</a></h2><p>Nimsuggest then waits for queries to process. A query consists of a cryptic 3 letter &quot;command&quot; <tt class="docutils literal"><span class="pre"><span class="Identifier">def</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">con</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">sug</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">use</span></span></tt> followed by a location. A query location consists of:</p>
<dl class="docutils"><dt><tt class="docutils literal"><span class="pre">file.nim</span></tt></dt>
<dd>This is the name of the module or include file the query refers to.</dd>
<dt><tt class="docutils literal"><span class="pre">dirtyfile.nim</span></tt></dt>
<dd><p>This is optional.</p>
<p>The <tt class="docutils literal"><span class="pre"><span class="Identifier">file</span></span></tt> parameter is enough for static analysis, but IDEs tend to have <em>unsaved buffers</em> where the user may still be in the middle of typing a line. In such situations the IDE can save the current contents to a temporary file and then use the <tt class="docutils literal"><span class="pre">dirtyfile.nim</span></tt> option to tell Nimsuggest that <tt class="docutils literal"><span class="pre">foobar.nim</span></tt> should be taken from <tt class="docutils literal"><span class="pre">temporary/foobar.nim</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">line</span></tt></dt>
<dd>An integer with the line you are going to query. For the compiler lines start at <strong>1</strong>.</dd>
<dt><tt class="docutils literal"><span class="pre">col</span></tt></dt>
<dd>An integer with the column you are going to query. For the compiler columns start at <strong>0</strong>.</dd>
</dl>

<h2><a class="toc-backref" id="nimsuggest-invocation-definitions" href="#nimsuggest-invocation-definitions">Definitions</a></h2><p>The <tt class="docutils literal"><span class="pre"><span class="Identifier">def</span></span></tt> Nimsuggest command performs a query about the definition of a specific symbol. If available, Nimsuggest will answer with the type, source file, line/column information and other accessory data if available like a docstring. With this information an IDE can provide the typical <em>Jump to definition</em> where a user puts the cursor on a symbol or uses the mouse to select it and is redirected to the place where the symbol is located.</p>
<p>Since Nim is implemented in Nim, one of the nice things of this feature is that any user with an IDE supporting it can quickly jump around the standard library implementation and see exactly what a proc does, learning about the language and seeing real life examples of how to write/implement specific features.</p>
<p>Nimsuggest will always answer with a single definition or none if it can't find any valid symbol matching the position of the query.</p>

<h2><a class="toc-backref" id="nimsuggest-invocation-suggestions" href="#nimsuggest-invocation-suggestions">Suggestions</a></h2><p>The <tt class="docutils literal"><span class="pre"><span class="Identifier">sug</span></span></tt> Nimsuggest command performs a query about possible completion symbols at some point in the file.</p>
<p>The typical usage scenario for this option is to call it after the user has typed the dot character for <a class="reference external" href="tut2.html#object-oriented-programming-method-call-syntax">the object oriented call syntax</a>. Nimsuggest will try to return the suggestions sorted first by scope (from innermost to outermost) and then by item name.</p>

<h2><a class="toc-backref" id="nimsuggest-invocation-invocation-context" href="#nimsuggest-invocation-invocation-context">Invocation context</a></h2><p>The <tt class="docutils literal"><span class="pre"><span class="Identifier">con</span></span></tt> Nimsuggest command is very similar to the suggestions command, but instead of being used after the user has typed a dot character, this one is meant to be used after the user has typed an opening brace to start typing parameters.</p>

<h2><a class="toc-backref" id="nimsuggest-invocation-symbol-usages" href="#nimsuggest-invocation-symbol-usages">Symbol usages</a></h2><p>The <tt class="docutils literal"><span class="pre"><span class="Identifier">use</span></span></tt> Nimsuggest command lists all usages of the symbol at a position. IDEs can use this to find all the places in the file where the symbol is used and offer the user to rename it in all places at the same time.</p>
<p>For this kind of query the IDE will most likely ignore all the type/signature info provided by Nimsuggest and concentrate on the filename, line and column position of the multiple returned answers.</p>

<h1><a class="toc-backref" id="parsing-nimsuggest-output" href="#parsing-nimsuggest-output">Parsing nimsuggest output</a></h1><p>Nimsuggest output is always returned on single lines separated by tab characters (<tt class="docutils literal"><span class="pre">\t</span></tt>). The values of each column are:</p>
<ol class="simple"><li>Three characters indicating the type of returned answer (e.g. <tt class="docutils literal"><span class="pre"><span class="Identifier">def</span></span></tt> for definition, <tt class="docutils literal"><span class="pre"><span class="Identifier">sug</span></span></tt> for suggestion, etc).</li>
<li>Type of the symbol. This can be <tt class="docutils literal"><span class="pre"><span class="Identifier">skProc</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">skLet</span></span></tt>, and just about any of the enums defined in the module <tt class="docutils literal"><span class="pre">compiler/ast.nim</span></tt>.</li>
<li>Fully qualified path of the symbol. If you are querying a symbol defined in the <tt class="docutils literal"><span class="pre">proj.nim</span></tt> file, this would have the form <tt class="docutils literal"><span class="pre"><span class="Identifier">proj</span><span class="Operator">.</span><span class="Identifier">symbolName</span></span></tt>.</li>
<li>Type/signature. For variables and enums this will contain the type of the symbol, for procs, methods and templates this will contain the full unique signature (e.g. <tt class="docutils literal"><span class="pre"><span class="Keyword">proc</span> <span class="Punctuation">(</span><span class="Identifier">File</span><span class="Punctuation">)</span></span></tt>).</li>
<li>Full path to the file containing the symbol.</li>
<li>Line where the symbol is located in the file. Lines start to count at <strong>1</strong>.</li>
<li>Column where the symbol is located in the file. Columns start to count at <strong>0</strong>.</li>
<li><p>Docstring for the symbol if available or the empty string. To differentiate the docstring from end of answer, the docstring is always provided enclosed in double quotes, and if the docstring spans multiple lines, all following lines of the docstring will start with a blank space to align visually with the starting quote.</p>
<p>Also, you won't find raw <tt class="docutils literal"><span class="pre">\n</span></tt> characters breaking the one answer per line format. Instead you will need to parse sequences in the form <tt class="docutils literal"><span class="pre">\xHH</span></tt>, where <em>HH</em> is a hexadecimal value (e.g. newlines generate the sequence <tt class="docutils literal"><span class="pre">\x0A</span></tt>).</p>
</li>
</ol>
</p>
    
  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-10-23 19:00:46 UTC</small>
      </div>
    </div>
  </div>
      <script defer data-domain="nim-lang.org" src="https://plausible.io/js/plausible.js"></script>
    
</body>
</html>
